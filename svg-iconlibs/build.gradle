task createGallery << {

    File outputFile = new File(rootDir, "docs/icons.js")
    def writer =  outputFile.newPrintWriter();

    writer.println("var icons = [")

    projectDir.listFiles().each { iconModuleDir ->
        iconModuleDir.listFiles(new FilenameFilter() {
            @Override
            boolean accept(File dir, String name) {
                return "png".equals(name)
            }
        }).each { svgDir ->
            svgDir.listFiles(new FilenameFilter() {
                @Override
                boolean accept(File dir, String name) {
                    return name.endsWith(".png")
                }
            }).each { svgFile ->
                writer.print("\"")
                writer.print("https://github.com/MegatronKing/SVG-Android/raw/master/svg-iconlibs/")
                writer.print(svgFile.absolutePath.replace(projectDir.absolutePath, "").replaceAll("\\\\", "/").substring(1))
                writer.print("\"")
                writer.print(",")
                writer.println()
            }
        }
    }

    writer.println("]")

    writer.flush()
    writer.close()

}